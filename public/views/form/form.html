<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inscripci√≥n | MMRUN24</title>

  <!-- √çcono -->
  <link rel="icon" type="image/x-icon" href="/assets/img/favicon-mmrun.ico" />

  <!-- Navbar / topbar / distancias -->
  <link rel="stylesheet" href="/assets/css/index.css" />
  <link rel="stylesheet" href="/assets/css/modal.css" />

  <!-- Estilos -->
  <link rel="stylesheet" href="/assets/css/form.css" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/es.js"></script>

  <!-- SweetAlert -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    .swal2-popup.mmrun-confirm-modal {
      border-radius: 16px;
      padding: 2rem;
    }
    .hamburger-icon {
      font-size: 1.8rem;
      color: white;
    }
    #btn-submit {
      display: none !important;
    }
  </style>
</head>

<body class="no-overflow" style="display: flex; flex-direction: column; min-height: 100vh;">
  <!-- TOPBAR -->
  <div class="topbar">
    <div class="topbar-left">
      <span>contacto@mmrun.com.ar</span>
      <span>Club Mari Menuco, Neuqu√©n</span>
    </div>
    <div class="topbar-right">
      <a href="#"></a>
      <a href="#"></a>
      <a href="#"></a>
      <a href="#"></a>
    </div>
  </div>

  <!-- NAVBAR -->
  <header class="main-navbar" id="mainNavbar">
    <div class="logo-area">
      <a href="/#home">
        <img src="/assets/img/logo-mmrun-principal.png" alt="MMRun Logo" />
      </a>
    </div>
    <nav class="menu">
      <a href="/#home">Inicio</a>
      <a href="/#about">La Carrera</a>
      <a href="/#cat-sect">Circuitos</a>
      <a href="/views/form/distancias.html" class="active">Inscribirse</a>
      <a href="/#footer">Descargas</a>
      <a href="/#footer">Contacto</a>
    </nav>
    <div class="icons">
      <button class="hamburger-btn mobile-only" onclick="toggleMobileMenu()" aria-label="Abrir men√∫">
        <span class="hamburger-icon">‚ò∞</span>
      </button>
    </div>
  </header>

  <!-- MEN√ö MOBILE -->
  <div id="mobileDropdown" class="mobile-dropdown">
    <button id="closeMobileMenu" class="close-mobile-menu">‚úñ</button>
    <img src="/assets/img/logo-mmrun-principal.png" alt="Logo MMRun" class="mobile-logo" />
    <nav class="mobile-nav">
      <a href="/#home">Inicio</a>
      <a href="/#about">La Carrera</a>
      <a href="/#cat-sect">Circuitos</a>
      <a href="/views/form/distancias.html" class="active">Inscribirse</a>
      <a href="/#footer">Descargas</a>
      <a href="/#footer">Contacto</a>
    </nav>
    <div class="mobile-footer">
      <div class="mobile-icons"></div>
      <div class="mobile-contact">
        <p>contacto@mmrun.com.ar</p>
        <p>Club Mari Menuco, Neuqu√©n</p>
      </div>
    </div>
    <a class="btn-inscribirse" href="/views/form/distancias.html">Inscribirme</a>
  </div>

  <body class="no-overflow" style="display: flex; flex-direction: column; min-height: 100vh;">
    <div id="page" class="site">
      <div class="container">
        <div class="form-box">
          <!-- Progreso -->
          <div class="progress">
            <div class="logo">
              <img src="/assets/img/logo-mmrun-secundario.png" alt="Logo MMRUN">
            </div>
            <ul class="progress-steps">
              <li class="step active"><span>1</span><p>Datos Personales</p></li>
              <li class="step"><span>2</span><p>Contacto</p></li>
              <li class="step"><span>3</span><p>Datos de Inscripci√≥n</p></li>
              <li class="step"><span>4</span><p>Resumen</p></li>
              <li class="step" data-step="5"><span>5</span><p>Pago</p></li>
            </ul>
          </div>

          <form action="" id="form">
            <div class="form-one form-step active">
              <div class="bg-svg"></div>
              <h2>Datos Personales</h2>
              <p>Ingres√° tu informaci√≥n personal</p>
            
              <div class="form-row">
                <div class="form-field first-field">
                  <label for="firstname">Nombre:</label>
                  <input id="firstname" type="text" name="firstname" class="items" placeholder="Nombre" required />
                </div>
                <div class="form-field">
                  <label for="lastname">Apellido:</label>
                  <input id="lastname" type="text" name="lastname" class="items" placeholder="Apellido" required />
                </div>
              </div>
            
              <div class="form-row">
                <div class="form-field">
                  <label for="dni">DNI:</label>
                  <input 
                  id="dni"
                  type="text"
                  name="dni"
                  placeholder="12345678"
                  class="items"
                  pattern="\d{7,8}"
                  maxlength="8"
                  inputmode="numeric"
                  required />
                                </div>
                <div class="form-field">
                  <label for="runnerGenre">G√©nero:</label>
                  <select id="runnerGenre" name="runnerGenre" class="items" required>
                    <option value="">Seleccione</option>
                    <option value="Femenino">Femenino</option>
                    <option value="Masculino">Masculino</option>
                  </select>
                </div>
              </div>
            
              <div class="form-row full-width">
                <div class="form-field" style="width: 100%;">
                  <label for="birthdate">Fecha de nacimiento:</label>
                  <input type="text" id="birthdate" name="birthdate" class="items" placeholder="Seleccion√° tu fecha" required />
                </div>
              </div>              
            </div>

            <!-- Paso 2: Contacto -->
            <div class="form-two form-step">
              <div class="bg-svg"></div>
              <h2>Contacto</h2>
              <p>Ingresa tus datos de contacto</p>
              <div><label for="email">Email:</label><input id="email" type="email" class="items" name="email" placeholder="email@mail.com" required /></div>
              <div><label for="phone">Tel√©fono:</label><input id="phone" type="tel" class="items" name="phone" placeholder="299xxxxxxx" required /></div>
              <div class="form-field">
                <label for="city">Ciudad:</label>
                <input list="ciudades" id="city" name="city" class="items" placeholder="Selecciona Ciudad" required />
                <datalist id="ciudades">
                  <option value="C√≥rdoba"></option>
                  <option value="Buenos Aires"></option>
                  <option value="Rosario"></option>
                  <option value="Mendoza"></option>
                  <option value="Neuqu√©n"></option>
                  <option value="Salta"></option>
                  <option value="Tucum√°n"></option>
                </datalist>
              </div>
            </div>

            <!-- Paso 3: Inscripci√≥n -->
            <div class="form-three form-step">
              <div class="bg-svg"></div>
              <h2>Datos de Inscripci√≥n</h2>
              <p>Ingres√° tu informaci√≥n de inscripci√≥n</p>
              <div>
                <label for="distanciaElegida">Distancia:</label>
                <input type="text" id="distanciaElegida" name="distancia" class="items" readonly />
                <select id="category" name="category" hidden required></select>
              </div>
              <div>
                <label for="tshirtSize">Talle Camiseta:</label>
                <select name="tshirtSize" id="tshirtSize" class="items" required>
                  <option value="">Seleccione</option>
                  <option value="talle_s">Camiseta Talle S</option>
                  <option value="talle_m">Camiseta Talle M</option>
                  <option value="talle_l">Camiseta Talle L</option>
                  <option value="talle_xl">Camiseta Talle XL</option>
                  <option value="talle_xxl">Camiseta Talle XXL</option>
                </select>
              </div>
              <div class="img-container">
                <img id="myImg" class="myImg" src="/assets/img/form/guia-talles.png" alt="Gu√≠a de talles" />
              </div>
              <div class="checkbox">
                <input type="checkbox" id="check-partner" class="items" name="check-partner" />
                <label for="check-partner">Tengo un c√≥digo de descuento</label>
                <div>
                  <label for="partnerID">C√≥digo de descuento:</label>
                  <input id="partnerID" type="text" class="items" name="partnerID" disabled placeholder="Ingrese c√≥digo" />
                </div>
              </div>
            </div>

            <!-- Paso 4: Resumen -->
            <div class="form-four form-step">
              <div class="bg-svg"></div>
              <h2>Resumen</h2>
              <p>üìú Verific√° todos los datos antes de confirmar</p>
              <div id="payment-status"></div>
              <p><a href="/views/documents/REGLAMENTO_GENERAL.pdf" target="_blank">T√©rminos y Condiciones</a></p>
            </div>

            <!-- Paso 5: Pago -->
            <div class="form-five form-step payment-step">
              <div class="bg-svg"></div>
              <h2 id="paso5-title">Pago</h2>
              <p id="paso5-desc">Seleccion√° tu m√©todo de pago para completar la inscripci√≥n.</p>

              <!-- Estos IDs son necesarios para el script -->
              <div id="metodoPagoGroup" style="display: none;"></div>

              <!-- Grupo de checkboxes -->
              <div class="checkbox-group custom-checkboxes">
                <label class="checkbox-alineado">
                  <input type="checkbox" id="aceptaReglamento" required />
                  <span>Acepto los <a href="/views/documents/REGLAMENTO_GENERAL.pdf" target="_blank">t√©rminos y condiciones</a></span>
                </label>

                <label class="checkbox-alineado">
                  <input type="checkbox" id="esMenorEdad" name="menorEdad" />
                  <span>Soy menor de edad</span>
                </label>
              </div>

              <!-- Bot√≥n Mercado Pago -->
              <div id="mercadoPagoButton">
                <button type="button" class="btn-mercado-pago" id="btn-pagar" disabled>
                  <img src="/assets/img/nuevo-diseno/mercado-pago/mercado-pago-logo.jpg" alt="MercadoPago" />
                  <span>Pagar con Mercado Pago</span>
                </button>
              </div>
            </div>

          <!-- Navegaci√≥n -->
          <div class="btn-group">
            <button type="button" class="btn-prev" disabled>Anterior</button>
            <button type="button" class="btn-next">Siguiente</button>
          </div>
        </form>
      </div>
    </div>

    <div class="full-screen no-display" id="spinner">
      <span class="loader"></span>
    </div>
  </div>

  <!-- Modal Talles -->
  <div id="myModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="img01" />
  </div>

  <!-- FOOTER -->
  <footer id="footer">
    <div class="logo-container">
      <img src="/assets/img/logo-mmrun-violeta.png" alt="logo violeta mmrun" />
      <p>Tercera Edici√≥n | <span>Septiembre '24</span></p>
    </div>
    <div class="social-media-container">
      <a href="#"></a><a href="#"></a><a href="#"></a><a href="#"></a>
    </div>
    <div class="separator"></div>
    <div class="hvdevs">
      <p>Una soluci√≥n tecnol√≥gica de <a class="hvdevs-a" href="#">Nexus Core</a></p>
      <!-- <img src="/assets/img/logo-hvdevs.png" alt="Logo HVDevs" class="hvdevs-logo" /> -->
    </div>
  </footer>

  <!-- Scripts -->
  <script src="/assets/js/index.js" defer></script>
  <script src="/assets/js/modal.js" defer></script>
  <script src="/assets/js/form.js"></script>

  <script>
    function toggleMobileMenu() {
      const menu = document.getElementById('mobileDropdown');
      const isOpen = menu.classList.toggle('active');
      document.body.classList.toggle('menu-open', isOpen);
    }

    document.addEventListener("DOMContentLoaded", function () {
      const closeBtn = document.getElementById("closeMobileMenu");
      const mobileMenu = document.getElementById("mobileDropdown");
      const termsCheckbox = document.getElementById("aceptaReglamento");
      const payButton = document.getElementById("btn-pagar");

      if (closeBtn) {
        closeBtn.addEventListener("click", () => {
          mobileMenu.classList.remove("active");
          document.body.classList.remove("menu-open");
        });
      }

      if (termsCheckbox && payButton) {
        termsCheckbox.addEventListener("change", () => {
          payButton.disabled = !termsCheckbox.checked;
        });
      }
    });

    window.addEventListener("scroll", function () {
      const navbar = document.getElementById("mainNavbar");
      const topbar = document.querySelector(".topbar");
      if (window.scrollY > 0) {
        navbar.classList.add("scrolled");
        topbar.classList.add("hidden");
      } else {
        navbar.classList.remove("scrolled");
        topbar.classList.remove("hidden");
      }
    });
  </script>
    <script>
      const distancia = sessionStorage.getItem("distanciaSeleccionada");
      if (distancia) {
        const inputDistancia = document.getElementById("distanciaElegida");
        const selectCategory = document.getElementById("category");
        if (inputDistancia) inputDistancia.value = distancia;
        if (selectCategory) {
          const opt = document.createElement("option");
          opt.value = distancia;
          opt.textContent = distancia;
          selectCategory.appendChild(opt);
          selectCategory.value = distancia;
        }
      }
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        flatpickr("#birthdate", {
          dateFormat: "d/m/Y",
          maxDate: "today",
          locale: "es",
          altInput: true,
          altFormat: "d \\de F \\de Y"
        });
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const dniInput = document.getElementById("dni");
    
        dniInput.addEventListener("input", function () {
          // Eliminar todo lo que no sea d√≠gito
          this.value = this.value.replace(/\D/g, "");
    
          // Limitar a 8 caracteres
          if (this.value.length > 8) {
            this.value = this.value.slice(0, 8);
          }
        });
      });
    </script>
    
  </body>
</html>
